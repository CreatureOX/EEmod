/************************************************************************************/	
//  entityPlayer.openGui(Main.instance,ModGuiHandler.MOD_TILE_ENTITY_GUI,event.world, 10, 10, 10);
//	private GuiButton btnShowNewGui = new GuiButton(223, 0, 0, "EEmod Test");
//	@SubscribeEvent
//	public void guiScreenShow(InitGuiEvent.Post event){
//		if(event.gui instanceof GuiOptions){
//			GuiScreen screen = event.gui;
//			for(Object o : event.buttonList)
//			{
//				GuiButton btn = (GuiButton)o;
//				if(btn.id == 4) //�˳���Ϸ��ť��id
//					btn.xPosition = (int)(screen.width * 0.75);
//				if(btn.id == 0) //ѡ�ť��id
//				{
//					btn.yPosition = (int)(screen.height * 0.7);
//					btn.xPosition = (int)(screen.width * 0.75);
//				}
//				if(btn.id == 1) //ѡ�ť��id
//				{
//					btn.yPosition = (int)(screen.height * 0.5* 0.5);
//					btn.xPosition = (int)(screen.width * 0.5* 0.5);
//				}
//			}
//			btnShowNewGui.xPosition = (int)(screen.width * 0.5) - 100;
//			btnShowNewGui.yPosition = (int)(screen.height * 0.8);
//			btnShowNewGui.width =  200;	
//			event.buttonList.add(btnShowNewGui);			
//		}
//	}
//
//	@SubscribeEvent
//	public void guiClickButton(ActionPerformedEvent.Post event){
//		if(event.button == btnShowNewGui){
//			Minecraft mc = Minecraft.getMinecraft();
//			mc.displayGuiScreen(new EEmodGui(mc.currentScreen));
//		}
//		
//	}		
/*************************************************************************************/
    @SubscribeEvent
    public void playerHealth(RenderGameOverlayEvent.Pre event) {
    	if(event.type == ElementType.HEALTH) {
    		int width = event.resolution.getScaledWidth();
    		int height = event.resolution.getScaledHeight();
    		Minecraft mc = Minecraft.getMinecraft();
    		//String hp = String.format("Magic: %d/%d",
    		//				MathHelper.ceiling_float_int(mc.thePlayer.getHealth()),
    		//				MathHelper.ceiling_double_int(mc.thePlayer.getEntityAttribute(SharedMonsterAttributes.maxHealth).getAttributeValue()));
    		//FontRenderer fontRenderer = mc.fontRenderer;
    		//fontRenderer.drawStringWithShadow(hp, width / 2 + 25, height - GuiIngameForge.left_height-10, 0xFFFFFF);
    		// 字体渲染器在渲染时会重新绑定到字型纹理上 HUD在下一步绘制时不会重新绑定纹理,因此需要我们在此手动绑定.
    		mc.renderEngine.bindTexture(Gui.icons);
    		drawTexturedModalRect(width / 2-182/2,height - GuiIngameForge.left_height-6,0,79,182,5);
    		// 参数分别为x,y,u,v,    x,y为绘制在屏幕上的左上角坐标  u，v为纹理的左上角坐标 w,h为纹理的宽、高
    	}
    }

	@SubscribeEvent
	public void playerName(RenderGameOverlayEvent.Text event) {
		event.left.add(0, String.format("Welcome, %s!", Minecraft.getMinecraft().thePlayer.getCommandSenderName()));
	}


	@SubscribeEvent
	public void test(LivingFallEvent event){
		if(event.entityLiving instanceof EntityPlayerMP){
			EntityPlayer entityPlayer = (EntityPlayer)event.entityLiving;
            entityPlayer.addChatMessage(new ChatComponentText("Falling Star! You fell "+event.distance+ " meters.That's cool, man!"));
		}
}